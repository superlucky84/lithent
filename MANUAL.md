# Lithent

## 소개

필자가 만든 경량 가상돔 라이브러리의 전체 기능 설명을 문서로 남겨 기념한다.

Lithent는 JSX를 기반으로 만들어진 가상돔 UI 라이브러리이며 다양한 상황에서 가볍게 사용할 수 있는 가상돔 라이브러리를 만들어보고자 기획되었다.

컴포넌트를 정의할때 고차함수 및 클로저의 속성을 이용하여 정의하고 재활용하는 방식을 기본 아이디어로 채택하여 개발되었으며, 별도의 빌드 툴 없이도 브라우저에서 리소스를 로드하는 즉시 개발이 가능하다.

이미 그려진 html 문서에서 동적으로 DOM 변경이 필요한 부분을 찾아서 여러 조각의 리얼돔을 끼워 넣거나 변경 또는 제거가 용이하도록 개발하였다 (물론 SPA 페이지를 만드는데 쓸수도 있다).

* 목차
    * 기본 기능
        * 마운터
        * 업데이터
        * 리뉴어
        * 루트 랜더
        * 마운트 콜백
        * 업데이트 콜백
    * 확장 기능
        * 스테이트 헬퍼
        * 스토어 헬퍼
        * 캐시 업데이터 헬퍼
        * effect 헬퍼
        * 컴퓨티드 헬퍼
        * 넥스트틱 헬퍼
    * htm 지원

## 기본 기능

### 마운터

컴포넌트의 상태와 기능(메서드)을 정의하며. 구성 요소가 처음 그려질 때 한 번 호출된다. 

마운터는 업데이터를 리턴한다.

### 업데이터

업데이터는 JavaScript 클로저를 사용하여 마운터의 변수 및 함수에 액세스하는 마운터 내에 정의된 고차 함수다.

이 함수는 컴포넌트의 상태가 변경되어 갱신이 필요할때 리뉴어를 호출하므로서 실행된다.

업데이트는 실제로 dom에 표현될 마크업의 정의이며 JSX를 이용해 표현한다. 트랜스 파일러 없이 직접 사용하고 싶을경우 htm을 사용할 수 있다.


### 리뉴

리뉴는 마운터 함수의 첫번째 인자로 제공된다. 마운터 내에 정의되는 메서드로 컴포넌트의 상태를 변경하고 리뉴를 실행하므로서 가상돔을 변경할 수 있다.
가상돔이 루트렌더(render) 를 통해 페이지에 그려져 있는 경우 가상돔 변경 즉시 페이지에 반영된다.

### 루트 랜더

render 함수로 제공되며 연결된 가상돔은 리얼돔에 연결되어 그려진다.

### 마운트 콜백

컴포넌트로 부터 가상돔이 생성되어 리얼돔에 처음으로 세팅되는걸 마운트 되었다고 한다. 컴포넌트가 마운트되면 마운트 콜백이 실행된다.

컴포넌트가 리얼돔에서 제거되면 언마운트 되었다라고 하며 마운트 함수가 리턴하는 언마운트가 실행된다.

### 업데이트 콜백

컴포넌트의 상태가 변경되어 리뉴가 실행되면 컴포넌트가 업데이트 된다. 업데이트 되기 전에 업데이트 콜백이 실행된다.

컴포넌트가 업데이트 된 후 리얼돔에 반영되고나면 업데이트 콜백이 리턴하는 업데이티드 콜백이 실행된다.

## 확장 기능

### 스테이트 헬퍼

### 스토어 헬퍼

### 캐시 업데이터 헬퍼

* 여러 컴포넌트가 동시에 그려질 경우 내부 동작

### effect 헬퍼

### 컴퓨티드 헬퍼

### 넥스트틱 헬퍼

## htm 지원

